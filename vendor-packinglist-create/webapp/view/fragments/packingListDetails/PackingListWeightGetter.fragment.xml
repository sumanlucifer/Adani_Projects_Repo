<core:FragmentDefinition xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:scan="sap.ndc">
    <Dialog title="{i18n>DispatchPackingList}" class="sapUiContentPadding">
        <Label text="{i18n>ConfirmQRNumber}"  class="sapUiTinyMarginBottom"/>
        <FlexBox alignItems="Start" class="sapUiTinyMarginBottom">
            <Input valueState="{packingListDispatchModel>/valueState}" valueStateText="{packingListDispatchModel>/valueStateText}" 
                value="{packingListDispatchModel>/QRNumber}" editable="{= ${packingListDispatchModel>/isQRConfirmed} ? false : true}" 
                liveChange="onQRLiveChange" class="sapUiTinyMarginEnd">
                <layoutData>
                    <FlexItemData growFactor="2" />
                </layoutData>
            </Input>
            <Button text="{i18n>ValidateQR}" press="onValidateQRPress" visible="{= ${packingListDispatchModel>/isQRConfirmed} ? false : true}"
                    enabled="{packingListDispatchModel>/isValidateButtonEnabled}" class="sapUiTinyMarginBegin">
                <layoutData>
                    <FlexItemData growFactor="1" />
                </layoutData>
            </Button>
        </FlexBox>
        <Text text="{i18n>OR}" width="100%" class="sapUiTinyMarginBottom"  visible="{= ${packingListDispatchModel>/isQRConfirmed} ? false : true}"/>
        <HBox  class="sapUiTinyMarginBottom">
            <scan:BarcodeScannerButton id="idQRBtn" scanSuccess="onScanSuccess" scanFail="onScanError" width="10%"  
                                       visible="{= ${packingListDispatchModel>/isQRConfirmed} ? false : true}"/>
        </HBox>
        <Label text="{i18n>AddTotalGrossWeightInMT}" class="sapUiTinyMarginBottom" visible="{= ${packingListDispatchModel>/isQRConfirmed}}"/>
        <FlexBox alignItems="Start">
            <Input value="{packingListDispatchModel>/weight}"
                   type="Number" liveChange="onWeightLiveChange" visible="{= ${packingListDispatchModel>/isQRConfirmed}}">
                <layoutData>
                    <FlexItemData growFactor="1" />
                </layoutData>
            </Input>
        </FlexBox>                    
        <beginButton>
            <Button text="{i18n>Close}" press="onCloseDispatchDialogPress"/>
        </beginButton>
        <endButton>
            <Button text="{i18n>Dispatch}" press="onDispatchPackingListPress"  type="Emphasized"
                    visible="{= ${packingListDispatchModel>/isQRConfirmed}}" enabled="{packingListDispatchModel>/isDispatchButtonEnabled}"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>