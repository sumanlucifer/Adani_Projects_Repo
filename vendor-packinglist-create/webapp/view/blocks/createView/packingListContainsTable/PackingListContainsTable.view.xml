<mvc:View xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.ui.layout.form"
    xmlns="sap.m"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:tt="sap.ui.table" controllerName="com.agel.mmts.vendorpackinglistcreate.view.blocks.createView.packingListContainsTable.PackingListContainsTableController">
    <Table id="idBOQItemTable" items="{path: 'packingListContainsModel>/items'}" autoPopinMode="true" growingThreshold="5" growing="true" fixedLayout="false">
        <headerToolbar>
            <OverflowToolbar >
                <content>
                    <ToolbarSpacer></ToolbarSpacer>
                    <Button id="idButtonGenerate" text="{= ${IsProcessOneCompletes} ? 'Regenerate Primary Packaging List' : 'Generate Primary Packaging List'}" 
                        press="onGeneratePackingList" visible="{= ${objectViewModel>/isPackingListInEditModel} ? true : false}"/>
                </content>
            </OverflowToolbar>
        </headerToolbar>
        <columns>
            <Column>
                <Text text="{i18n>MaterialCode}"/>
            </Column>
            <Column>
                <Text text="{i18n>Name}"/>
            </Column>
            <Column hAlign="Center">
                <Text text="{i18n>DispatchQuantity}"/>
            </Column>
            <Column>
                <Text text="{i18n>UOM}"/>
            </Column>
            <Column>
                <Text text="{i18n>PackagingType}"/>
            </Column>
            <Column>
                <Text text="{i18n>NoofPackages}"/>
            </Column>
        </columns>
        <items>
            <ColumnListItem>
                <cells>
                    <ObjectIdentifier title="{packingListContainsModel>MaterialCode}"/>
                    <Text text="{packingListContainsModel>Name}"/>
                    <Text text="{packingListContainsModel>DispatchQty}" />
                    <Text text="{packingListContainsModel>UOM}"/>
                    <Select id="idPackagingTypeSelect" forceSelection="false" selectedKey="{packingListContainsModel>PackagingTypeId}" 
                        selectedItem="{packingListContainsModel>PackagingType}" 
                        items="{
                             path: '/MasterPackagingTypeSet',
                             templateShareable:false
                            }" 
                        change="onPackingListTypeChange" editable="{= ${objectViewModel>/isPackingListInEditModel} ? true : false}">
                        <core:Item key="{ID}" text="{Name}" />
                    </Select>
                    <Input value="{packingListContainsModel>NumberOfPackages}" editable="{= ${objectViewModel>/isPackingListInEditModel} ? true : false}" 
                        change="onChaneNumberOfPackage" type="Number" width="40%"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>

    <Table id="idPackagingTable" items="{path: 'InnerPackagingModel>/items'}" autoPopinMode="true" growingThreshold="5" growing="true" fixedLayout="false" class="sapUiLargeMarginTop">
        <headerToolbar>
            <OverflowToolbar >
                <content>
                    <Title text="{i18n>GeneratedPrimaryPackaging}" level="H2"/>
                </content>
            </OverflowToolbar>
        </headerToolbar>
        <columns>
            <Column>
                <Text text="{i18n>PackagingType}"/>
            </Column>
            <Column >
                <Text text="{i18n>MaterialName}"/>
            </Column>
            <Column hAlign="Center">
                <Text text="{i18n>PackagingQuantity}"/>
            </Column>
            <Column>
                <Text text="{i18n>UOM}"/>
            </Column>
        </columns>
        <items>
            <ColumnListItem>
                <cells>
                    <Text text="{InnerPackagingModel>PackagingType}"/>
                    <Text text="{InnerPackagingModel>Name}"/>
                    <Input value="{InnerPackagingModel>PackagingQty}" width="20%" 
                        editable="{= ${objectViewModel>/isPackingListInEditModel} ? true : false}"/>
                    <Text text="{InnerPackagingModel>UOM}"/>
                </cells>
            </ColumnListItem>
        </items>
    </Table>
</mvc:View>


