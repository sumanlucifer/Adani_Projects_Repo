<mvc:View
    controllerName="com.agel.mmts.vendormapmdcc.controller.MapView"
	xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    displayBlock="true"
	xmlns="sap.m"
	xmlns:ui="sap.ui.table">
		<App id="app">
			<pages>
				<Page id="page">
                    <customHeader>
                        <Bar>
                            <contentLeft>
                                <Title text="{i18n>MapMDCC}" titleStyle="H3"/>
                            </contentLeft>
                            <contentRight>
                                <Button id="idBtnSave" text="{i18n>Save}" type="Emphasized" press="onSave"/>
                            </contentRight>
                        </Bar>                    
                    </customHeader>
					<content>
						<ui:TreeTable id="TreeTableBasic"
                            rows="{path:'TreeTableModel>/', parameters: {numberOfExpandedLevels: 2, arrayNames:['ChildItems']}}"
                            selectionMode="None"  enableSelectAll="false"
                             ariaLabelledBy="title" class="sapUiSmallMargin">
							<ui:columns>
                                
                                <ui:Column width="8%" hAlign="Center">
									<Label text="{i18n>Select}" />
									<ui:template>
										 <CheckBox visible="{TreeTableModel>isPreviouslySelected}" selected="{TreeTableModel>isSelected}" 
                                           select="onSelectionOfRow" />
									</ui:template>
								</ui:Column>
                                <ui:Column width="9%">
									<Label text="{i18n>LineNumber}"/>
									<ui:template>
										<Text text="{TreeTableModel>LineNumber}"  />
									</ui:template>
								</ui:Column>
                                <ui:Column>
									<Label text="{i18n>BOQList}"/>
									<ui:template>
										<Text text="{TreeTableModel>BOQGroupName}"  />
									</ui:template>
								</ui:Column>                                
                                <ui:Column>
									<Label text="{i18n>MaterialCode}"/>
									<ui:template>
										<Text text="{TreeTableModel>MaterialCode}"  />
									</ui:template>
								</ui:Column>
								<ui:Column>
									<Label text="{i18n>Name}"/>
									<ui:template>
										<Text text="{TreeTableModel>Name}"  />
									</ui:template>
								</ui:Column>
                                <ui:Column>
									<Label text="{i18n>Description}"/>
									<ui:template>
                                        <ExpandableText text="{TreeTableModel>Description}" overflowMode="Popover" maxCharacters="32"/>
										<!-- <Text text="{TreeTableModel>Description}"  /> -->
									</ui:template>
								</ui:Column>
                                <ui:Column>
									<Label text="{i18n>WeightPerPiece}"/>
									<ui:template>
										<Text text="{TreeTableModel>WeightPerPiece}"/>
									</ui:template>
								</ui:Column>
                                <!-- <ui:Column>
									<Label text="{i18n>BaseQuantity}"/>
									<ui:template>
										<Text text="{TreeTableModel>BaseQty}"/>
									</ui:template>
								</ui:Column>							 -->
								<ui:Column>
									<Label text="{i18n>TotalQuantity}"/>
									<ui:template>
										<Text text="{TreeTableModel>AcceptQuantity}"/>
									</ui:template>
								</ui:Column>
                                <ui:Column>
									<Label text="{i18n>RemainingQuantity}"/>
									<ui:template>
										<ObjectIdentifier title="{TreeTableModel>RemainingQty}"/>
									</ui:template>
								</ui:Column>
								<ui:Column>
									<Label text="{i18n>ApprovedQuantity}"/>
									<ui:template>                                        
										    <Input value="{TreeTableModel>MDCCApprovedQty}" 
                                                editable="{= ${TreeTableModel>isSelected} ? true : false }"
                                                liveChange="onLiveChangeApprovedQty" />
                                          <!--  <Button icon="sap-icon://edit" type="Transparent" press="onEditQuantity"/>-->                                       
									</ui:template>
								</ui:Column>
								<ui:Column hAlign="Center">
									<Label text="{i18n>UOM}"/>
									<ui:template>
										<Text text="{TreeTableModel>UOM}"  />
									</ui:template>
								</ui:Column>
							</ui:columns>
						</ui:TreeTable>
					</content>
				</Page>
			</pages>
		</App>
</mvc:View>